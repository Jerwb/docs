---
title: "Introduction"
description: "Example section for showcasing API endpoints"
---

<Note>
  If you're not looking to build API reference documentation, you can delete
  this section by removing the api-reference folder.
</Note>

## Welcome

The Anagram API is organized around [**REST**](http://en.wikipedia.org/wiki/Representational_State_Transfer). Our API has predictable resource-oriented URLs, accepts [**form-encoded**](https://en.wikipedia.org/wiki/POST_\(HTTP\)#Use_for_submitting_web_forms) request bodies, returns [**JSON-encoded**](http://www.json.org/) responses, and uses standard HTTP response codes, authentication, and verbs.

The Anagram API does not have a test mode. The API key you use to [**authenticate**](https://docs.stripe.com/api/authentication) requests is live. You can use the Anagram API with a demo payer for testing purposes, which doesn’t affect live data or interact with real insurance companies.

## Testing

There is no testing environment. For testing, use the`insurer:vision:demo`payer in the request parameters. This payer provides mock responses and does not interact with live data.

## Request IDs

The API assigns identifiers to all requests, available in `x-request-id` response header. Our support team may ask for request IDs when handling a case.

## Object IDs

Objects are identified by strings, often called "codes".

```json
{
  ...
  "insurer_code": "insurer:vision:demo",
  ...
}
```

**Note:**

- Diagnosis and services are identified by a list of codes
- For services the API currently requires a single code, specified as a JSON array with a single value

```json
...
"services": [{
  "codes": ["V2020"],
  ...
}]
```

## Types

We use standard types:

- `string` values are generally limited to 255 characters
- `int` an signed integer number limited to 32 bits
- `date` is an ISO string, `YYYY-MM-DD`
- `money`: decimal as a string (not an integer or a float number to avoid round error), up to 4 digits in the fraction part
- `percent`: decimal as s string (not an integer or a float number to avoid round error), up to 4 digits in the fraction part
- Optional fields are denoted as `<type> | null`, can be omitted
- Arrays are denoted with `[]`

## Error handling

Errors are signaled via an appropriate 4xx/5xx response code and JSON response body.

There are 2 possible error responses:

- Validation error with `Error` object,
- General error with the string field `detail`.

### General error (string field "detail")

The error is related to the request itself. The field `detail` contains a human-readable error message.

Example:

```json
{
    "detail": "Unknown authentication token type."
}
```

### Validation error (error object in field "errors")

Errors related to the request body object itself are validation errors with a status code `400 BAD_REQUEST`.

Validation errors return a response object with a field `errors`, organized in a structure matching the request object (similar to GraphQL), containing error messages related to specific fields. For errors related to specific array elements, array indices are used as object keys.

Examples:

One error in the field `quantity` of the first service object in the `services` array field:

```json
{
    "errors": {
        "services": {
            "0": {
                "quantity": {
                    "$": ["This field cannot be null."]
                }
            }
        }
    }
}
```

Three errors in the field `last_name` of object `primary_member`:

```
{
    "errors": {
        "primary_member": {
            "last_name": {
                "$": [
                    "This field cannot be null.",
                    "Required to access with Member ID.",
                    "Required to access with SSN last four."
                ]
            }
        }
    }
}
```

Validation errors in multiple fields:

```
{
    "errors": {
        "patient": {
            "last_name": {
                "$": ["Required to access with SSN last four."]
            }
        },
        "primary_member": {
            "ssn_last_four": {"$": ["Invalid SSN format."]
        },
        "services": {
            "1": {
                "quantity": {
                    "$": ["This field cannot be null."]
                }
            }
        }
    }
}
```